<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAHR LAB - AI Text Editor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="editor-styles.css">
</head>
<body>
    <div class="header">
        <img src="https://raw.githubusercontent.com/bahrlab/bahrlab.github.io/refs/heads/main/files/images/BAHRLABLOGO.png" alt="BAHR LAB" class="logo" onclick="goHome()">
    </div>
    
    <div id="homePage">
        <div class="main-content">
            <h1 class="main-title">AI Text Editor</h1>
            <p class="subtitle">Create, edit, and perfect your text with AI assistance</p>
            
            <div class="create-container">
                <h2 class="section-title">Create Text</h2>
                
                <div class="creation-options">
                    <div class="option-card active" onclick="setCreationMode('ai')" id="aiOption">
                        <div class="option-title">âœ¨ AI Generation</div>
                        <div class="option-desc">Generate text on any topic using artificial intelligence</div>
                    </div>
                    <div class="option-card" onclick="setCreationMode('paste')" id="pasteOption">
                        <div class="option-title">ğŸ“ Paste Text</div>
                        <div class="option-desc">Insert your own text for editing and improvement</div>
                    </div>
                </div>
                
                <div id="aiPromptSection">
                    <textarea class="prompt-input" id="aiPrompt" placeholder="Describe what text you want to create. For example: 'A short story about space exploration', 'Professional email to a client', 'Creative product description for a smartphone'"></textarea>
                    <button class="generate-button" onclick="generateText()">Generate Text with AI</button>
                </div>
                
                <div id="pasteSection" style="display: none;">
                    <textarea class="prompt-input" id="pasteText" placeholder="Paste your text here..."></textarea>
                    <button class="generate-button" onclick="loadPastedText()">Load Text for Editing</button>
                </div>
            </div>
            
            <div class="loading" id="loadingSection" style="display: none;">
                <div class="loading-spinner"></div>
                <div style="font-size: 18px; margin-top: 20px;">AI is creating your text...</div>
            </div>
            
            <div class="error-box" id="errorSection" style="display: none;">
                <h3>Unable to generate text</h3>
                <p>The AI is currently experiencing high load. Please try again.</p>
                <button class="retry-button" onclick="retryGeneration()">Retry</button>
            </div>
        </div>
    </div>
    
    <div id="editorPage" style="display: none;">
        <div class="main-content">
            <div class="editor-container">
                <div class="editor-toolbar">
                    <button class="tool-button" onclick="selectText()" id="selectBtn">
                        <span>ğŸ”</span> Select Text
                    </button>
                    <button class="tool-button" onclick="openEditPanel()" id="editBtn">
                        <span>âœï¸</span> Edit Selection
                    </button>
                    <button class="tool-button" onclick="transformEntireText('simplify')">
                        <span>ğŸ“</span> Simplify Text
                    </button>
                    <button class="tool-button" onclick="transformEntireText('formal')">
                        <span>ğŸ‘”</span> Make Formal
                    </button>
                    <button class="tool-button" onclick="transformEntireText('creative')">
                        <span>ğŸ¨</span> Make Creative
                    </button>
                    <button class="tool-button" onclick="openKeywordsModal()">
                        <span>ğŸ”‘</span> Add Keywords
                    </button>
                    <button class="tool-button" onclick="openLengthModal()">
                        <span>ğŸ“</span> Change Length
                    </button>
                    <button class="tool-button" onclick="openExportModal()">
                        <span>ğŸ’¾</span> Export
                    </button>
                </div>
                
                <div id="textStats" class="text-stats">
                    <span>Words: <span id="wordCount">0</span></span>
                    <span>Chars: <span id="charCount">0</span></span>
                </div>
                
                <textarea class="editor-area" id="textEditor" placeholder="Your text will appear here..." oninput="updateStats()"></textarea>
                
                <div class="actions-panel">
                    <button class="action-button" onclick="copyText()">
                        <span>ğŸ“‹</span> Copy Text
                    </button>
                    <button class="action-button" onclick="downloadText('txt')">
                        <span>ğŸ“„</span> Download .txt
                    </button>
                    <button class="action-button" onclick="downloadText('doc')">
                        <span>ğŸ“</span> Download .doc
                    </button>
                    <button class="action-button" onclick="downloadText('pdf')">
                        <span>ğŸ“˜</span> Download .pdf
                    </button>
                    <button class="action-button" onclick="clearEditor()">
                        <span>ğŸ—‘ï¸</span> Clear All
                    </button>
                    <button class="action-button primary" onclick="createNew()">
                        <span>ğŸ†•</span> Create New Text
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ -->
    <div class="edit-panel" id="editPanel">
        <div class="panel-header">
            <div class="panel-title">Edit Selection</div>
            <button class="close-panel" onclick="closeEditPanel()">Ã—</button>
        </div>
        
        <div id="selectedTextPreview" class="selected-preview">
            No text selected
        </div>
        
        <div class="edit-options">
            <div class="edit-option" onclick="applyEdit('simplify')">
                <div class="edit-option-title">ğŸ”§ Simplify</div>
                <div class="edit-option-desc">Make the selected text simpler and easier to understand</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('explain')">
                <div class="edit-option-title">ğŸ“š Explain Meaning</div>
                <div class="edit-option-desc">Add explanation or definition for selected terms</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('rephrase')">
                <div class="edit-option-title">ğŸ”„ Rephrase</div>
                <div class="edit-option-desc">Say the same thing in different words</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('formal')">
                <div class="edit-option-title">ğŸ‘” Make Formal</div>
                <div class="edit-option-desc">Make the text more professional and formal</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('casual')">
                <div class="edit-option-title">ğŸ˜Š Make Casual</div>
                <div class="edit-option-desc">Make the text more conversational and friendly</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('expand')">
                <div class="edit-option-title">â• Expand</div>
                <div class="edit-option-desc">Add more details and explanations</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('shorten')">
                <div class="edit-option-title">â– Shorten</div>
                <div class="edit-option-desc">Make the text more concise</div>
            </div>
            
            <div class="edit-option" onclick="applyEdit('remove')">
                <div class="edit-option-title">ğŸ—‘ï¸ Remove</div>
                <div class="edit-option-desc">Delete the selected text completely</div>
            </div>
        </div>
        
        <div class="custom-edit">
            <textarea class="prompt-input" id="customEditPrompt" placeholder="Or describe exactly what change you want to make..."></textarea>
            <button class="generate-button" onclick="applyCustomEdit()">Apply Custom Edit</button>
        </div>
    </div>
    
    <!-- ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ° -->
    <div class="modal-overlay" id="exportModal">
        <div class="modal">
            <div class="modal-title">Export Options</div>
            <div class="export-options">
                <button class="export-option" onclick="downloadText('txt')">
                    <span class="export-icon">ğŸ“„</span>
                    <span class="export-title">Text File (.txt)</span>
                    <span class="export-desc">Plain text format</span>
                </button>
                
                <button class="export-option" onclick="downloadText('doc')">
                    <span class="export-icon">ğŸ“</span>
                    <span class="export-title">Word Document (.doc)</span>
                    <span class="export-desc">Microsoft Word format</span>
                </button>
                
                <button class="export-option" onclick="downloadText('pdf')">
                    <span class="export-icon">ğŸ“˜</span>
                    <span class="export-title">PDF Document</span>
                    <span class="export-desc">Portable Document Format</span>
                </button>
                
                <button class="export-option" onclick="copyText()">
                    <span class="export-icon">ğŸ“‹</span>
                    <span class="export-title">Copy to Clipboard</span>
                    <span class="export-desc">Copy text for pasting</span>
                </button>
                
                <button class="export-option" onclick="shareText()">
                    <span class="export-icon">ğŸ“¤</span>
                    <span class="export-title">Share Text</span>
                    <span class="export-desc">Share via email or apps</span>
                </button>
            </div>
            <button class="tool-button" style="margin-top: 20px; width: 100%;" onclick="closeModal('exportModal')">Cancel</button>
        </div>
    </div>
    
    <!-- ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ´Ğ»Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ² -->
    <div class="modal-overlay" id="keywordsModal">
        <div class="modal">
            <div class="modal-title">Add Keywords</div>
            <p class="modal-desc">Enter keywords that must be included in the text. Separate with commas.</p>
            <input type="text" class="keywords-input" id="keywordsInput" placeholder="e.g., innovation, technology, future, AI">
            <div id="keywordsPreview" class="keywords-preview"></div>
            <button class="generate-button" onclick="applyKeywords()">Add Keywords to Text</button>
            <button class="tool-button" style="margin-top: 10px; width: 100%;" onclick="closeModal('keywordsModal')">Cancel</button>
        </div>
    </div>
    
    <!-- ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ğ¸Ğ½Ñ‹ -->
    <div class="modal-overlay" id="lengthModal">
        <div class="modal">
            <div class="modal-title">Change Text Length</div>
            <p class="modal-desc">Adjust the length of your entire text.</p>
            
            <div class="length-options">
                <button class="length-option" onclick="changeLength('shorter')">
                    <div class="length-title">â– Make Shorter</div>
                    <div class="length-desc">Reduce length by 50%</div>
                </button>
                
                <button class="length-option" onclick="changeLength('slightly_shorter')">
                    <div class="length-title">ğŸ“‰ Make Slightly Shorter</div>
                    <div class="length-desc">Reduce length by 25%</div>
                </button>
                
                <button class="length-option" onclick="changeLength('longer')">
                    <div class="length-title">â• Make Longer</div>
                    <div class="length-desc">Increase length by 50%</div>
                </button>
                
                <button class="length-option" onclick="changeLength('slightly_longer')">
                    <div class="length-title">ğŸ“ˆ Make Slightly Longer</div>
                    <div class="length-desc">Increase length by 25%</div>
                </button>
            </div>
            
            <button class="tool-button" style="margin-top: 20px; width: 100%;" onclick="closeModal('lengthModal')">Cancel</button>
        </div>
    </div>
    
    <!-- Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ -->
    <div class="generation-indicator" id="generationIndicator">
        <div class="indicator-content">
            <div class="loading-spinner small"></div>
            <div class="indicator-text" id="indicatorText">Applying changes...</div>
        </div>
    </div>

    <script src="editor-script.js"></script>
</body>
</html>
